var forEach=function(a,b,c){var d=0;if(len=a.length,len>0)for(;d<len;d++)b.call(c,d,a[d])},memoryGameLogic=function(){function a(a,b,c){function d(a){var b,c,d=a.length;if(d)for(;--d;)c=Math.floor(Math.random()*(d+1)),b=a[c],a[c]=a[d],a[d]=b;return a}a.classList.add(""+c);for(var e=[],f=0;f<b.cardNumber;++f)e[f]=f;for(var g=d(e),e=[],h=0;h<g.length;++h){var i=g[h],j=document.createElement("DIV");j.setAttribute("class","cards"),j.setAttribute("data-id",i+1),a.appendChild(j)}for(var k=document.querySelectorAll(".play-ground .row .cards"),l=0,m=k.length;m>l;l++){var n=k[l],o=n.getAttribute("data-id");if(o>b.cardNumber/2){var p=parseInt(n.getAttribute("data-id"))-b.cardNumber/2;n.setAttribute("data-id",p)}}}function b(){var a=document.querySelector(".play-ground .row");a.classList.add("disabled"),setTimeout(function(){a.classList.remove("disabled")},600)}function c(a){forEach(a,function(a,b){var c=b.getAttribute("data-id");b.innerHTML='<div class="hide"></div><img src="images/'+c+'.jpg">'})}function d(){return g+=1}function e(a,c){forEach(a,function(e,f){var g=f.querySelector(".hide");g.addEventListener("click",function(e){var f=this,g=document.querySelector(".play-ground .finish");f.parentElement.classList.contains("active")||f.parentElement.classList.contains("open")?e.preventDefault():g.setAttribute("data-click",d()),forEach(a,function(a,d){f.parentElement.classList.add("open");var e=document.querySelectorAll(".play-ground .row .cards.open");if(2==e.length){b(),forEach(e,function(a,b){if(f.parentElement!=b)var c=b;if(void 0!=c||null!=c)if(f.parentElement.getAttribute("data-id")!=c.getAttribute("data-id"))setTimeout(function(){f.parentElement.classList.remove("open"),c.classList.remove("open")},500);else{var d=document.querySelectorAll(".play-ground .row .cards.open");forEach(d,function(a,b){setTimeout(function(){f.parentElement.classList.remove("open"),c.classList.remove("open"),f.parentElement.classList.add("active"),c.classList.add("active")},50)})}});var g=document.querySelectorAll(".play-ground .row .cards.active");if(g.length==c.cardNumber-2){var h=document.querySelector(".play-ground .finish"),i=h.getAttribute("data-click");if(i<=2*c.cardNumber)var j="Excellent! It's in your blood the game!";else if(i>2*c.cardNumber&&i<=3*c.cardNumber)var j="Not bad, but not good!";else if(i>3*c.cardNumber&&i<=4*c.cardNumber)var j="Poor performance, try again!";else if(i>4*c.cardNumber)var j="Very bad, try again!";setTimeout(function(){h.classList.add("active"),h.innerHTML='<h2>Number of clicks: <span class="click">'+i+'</span><span class="message">'+j+"</h2>"},500)}}})},!1)})}function f(b,d){var f={cardNumber:b},g=document.querySelector(".play-ground"),h=g.querySelector(".play-ground .row");a(h,f,d);var i=document.querySelectorAll(".play-ground .row .cards");c(i);document.querySelectorAll(".play-ground .row .cards .hide");e(i,f)}var g=0;return{app:f}}(),memoryGameArea=function(){function a(){var a=document.querySelectorAll("ul li");forEach(a,function(b,c){c.addEventListener("click",function(){var b=this;forEach(a,function(a,c){b==c?c.classList.add("select"):c.classList.remove("select")})},!1)})}function b(){var a=document.querySelector(".play-ground"),b=document.querySelector(".properties"),c=a.querySelector(".loading-mask"),d=b.querySelector("ul.area li.select"),e=b.querySelector(".alert");if(d){var f=d.getAttribute("data-id"),g=d.getAttribute("data-card");memoryGameLogic.app(f,g),e.innerHTML="",b.classList.add("hide"),a.classList.add("show"),setTimeout(function(){c.classList.add("op-zero")},50),setTimeout(function(){c.classList.add("hide")},1050)}else e.classList.add("show"),setTimeout(function(){e.classList.add("op-one")},50),e.innerHTML="<span>Choose game area!</span>",setTimeout(function(){e.classList.remove("op-one"),setTimeout(function(){e.classList.remove("show")},1e3)},3e3)}function c(){a()}return{app:c,areaSelect:b}}();window.addEventListener("load",function(){memoryGameArea.app();var a=document.querySelector(".start");a.addEventListener("click",function(){memoryGameArea.areaSelect()},!1)},!1);